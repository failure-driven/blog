<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Failure Driven  | The first line of code in a Rails app shoud be ...</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.51" />
    
    
    <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
    <link href="/dist/css/app.e08a958ae3e530145318b6373195c765.css" rel="stylesheet">
    

    

    
    
    

    

    <meta property="og:title" content="The first line of code in a Rails app shoud be ..." />
<meta property="og:description" content="As part of &ldquo;The Rails Camp Project&rdquo;, coding with everyone at rails camp to build a simple game in Rails and ReactJS, it was time to write the first line of code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://failure-driven.com/rails-camp/commit-04-and-05-first-line-of-code-in-rails-app/" />
<meta property="og:image" content="https://failure-driven.com/images/rails-camp/commit_04_matt_patterson_ed182d1c315_still.jpg" />

<meta property="og:image" content="https://failure-driven.com/images/failure-driven_square.jpg" />
<meta property="article:published_time" content="2019-01-21T09:20:00&#43;11:00"/>
<meta property="article:modified_time" content="2019-01-21T09:20:00&#43;11:00"/>

<meta itemprop="name" content="The first line of code in a Rails app shoud be ...">
<meta itemprop="description" content="As part of &ldquo;The Rails Camp Project&rdquo;, coding with everyone at rails camp to build a simple game in Rails and ReactJS, it was time to write the first line of code.">


<meta itemprop="datePublished" content="2019-01-21T09:20:00&#43;11:00" />
<meta itemprop="dateModified" content="2019-01-21T09:20:00&#43;11:00" />
<meta itemprop="wordCount" content="1114">

  <meta itemprop="image" content="https://failure-driven.com/images/rails-camp/commit_04_matt_patterson_ed182d1c315_still.jpg">

  <meta itemprop="image" content="https://failure-driven.com/images/failure-driven_square.jpg">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://failure-driven.com/images/rails-camp/commit_04_matt_patterson_ed182d1c315_still.jpg"/>

<meta name="twitter:title" content="The first line of code in a Rails app shoud be ..."/>
<meta name="twitter:description" content="As part of &ldquo;The Rails Camp Project&rdquo;, coding with everyone at rails camp to build a simple game in Rails and ReactJS, it was time to write the first line of code."/>

</head>

<body class="ma0 avenir bg-near-white">


   
  

  
  
  <header class="cover bg-top" style="background-image: url('http://s3-ap-southeast-2.amazonaws.com/failure-driven-blog/railscamp-24-woodfield-hobart/commit_04_matt_patterson_22212c2fea9.gif');">
    <div class="pb3-m pv7-l none">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://failure-driven.com/" class="f3 fw2 hover-white no-underline white-90 dib">
      Failure Driven
    </a>
    <div class="flex-l items-center">
      
      



  <a href="https://twitter.com/selenasmall88" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>


  <a href="https://twitter.com/saramic" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>







    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">The first line of code in a Rails app shoud be ...</h1>
        
      </div>
    </div>
  </header>



<main role="main">
    
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3 ph0-l">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        THE RAILS CAMP PROJECT
      </p>
      <h1 class="f1 athelas mb1">The first line of code in a Rails app shoud be ...</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2019-01-21T09:20:00&#43;11:00">January 21, 2019</time>      
      
      
    </header>

    <main class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l">

<p>As part of <a href="https://failure-driven.com/post/railscamp-pairing/">&ldquo;The Rails Camp Project&rdquo;</a>,
coding with everyone at rails camp to build a simple game in Rails and ReactJS,
it was time to write the first line of code. With the ability to fire up Rails
and a React app clearly we could write some code? Well not exactly. The first line of
code in a Rail app should be &hellip; a test of course. To run tests we prefer to
use the RSpec testing framework. In todays post we setup RSpec and write that
all important first feature spec to start you off on building an app.</p>

<p>As developers who come from a strong testing background, we are obviously <em>not</em> going
to be teaching anyone to write code without driving the need with a test.</p>

<p>The idea of writing a test for functionality that does not exist sounds weird
at first. This style of app development is called <a href="https://en.wikipedia.org/wiki/Test-driven_development">Test Driven
Development</a> (TDD). The
idea is that new functionality is driven out by writing a test first.</p>

<p>More specifically, the way we like to test drive applications is to focus first
on how a user might expect our app to work. This style of testing, known as
<a href="https://en.wikipedia.org/wiki/Behavior-driven_development">Behavioural Driven
Development</a> means
that we not only test functionality of individual lines of code, we also test
our expected user experience.</p>

<p>In this experiment we were planning to build a game, with the first piece of
functionality being that a user navigating to the game would be greeted with a
welcome message.</p>

<p>Not much functionality to it really, but if that message was to change in the
future for some unknown reason we would want to know about it as soon as
possible. And for that reason, the first thing we would write before building
the page is a test!</p>

<p>A BDD test can be simplified into 2 states and a function.</p>

<ul>
<li><p>The state before the function is run</p>

<p><strong>Given</strong> that the server is running in default mode</p></li>

<li><p>The function to change state</p>

<p><strong>When</strong> I visit the root url of the server</p></li>

<li><p>The state after the function is run</p>

<p><strong>Then</strong> assert that the welcome message is displayed as expected</p></li>
</ul>

<h3 id="so-why-is-testing-important">So why is testing important?</h3>

<p>And more importantly, why is test driving critical? Tests give us confidence
that certain functionality works and that changes in one place don&rsquo;t break
things in other places. In fact, <code>test driven development</code>, is often more
correctly refered to as <code>test driven design</code> because it not only helps us to
test funtionality but also to test our design ensuring decoupled code where
changes in one place couldn&rsquo;t possible break things in other places.</p>

<p>Many developers are tempted to just the write the code first and maybe add a
test for it later on, you know, if they have time. Despite your first thought,
<strong>This is not faster or more efficent!</strong> It&rsquo;s much harder to write a test after
the implementation and the resulting tests that are written often fool the
developers writing them where they think they wrote a test but having never
seen it fail can&rsquo;t be sure that the test they wrote actually covered the code
they implemented.</p>

<p>Wanting to pair with everyone at rails camp, TDD was great allowing us to chunk the
work down into small pieces, even tiny pieces if need be.</p>

<p>Writing a failing test could be such a small test. This was critical as we had
limited time with each of 36 developers at rails camp so each of them would
only have time to contribute a small part. Also the only way to easily hand
over code to the next developer is if there is a way to document what has been
done and what we are up to. Tests play this role well.</p>

<p>Another major reason for wanting to write quality tests is because it also
doubles as clear documentation. Theoretically, a new developer coming along
should be able to read existing tests and gather an understanding of precisely
how the system currently works.</p>

<p>Since we used Rails for the backend, we went with the well-known RSpec testing
framework and our next pair, Matt Patterson, was up for the job of helping us
add the framework so we could move forward.</p>

<p><img alt="@mattpatterson94" src="//github.com/mattpatterson94.png" style="display: inline; width: 88px;" height="88" />
<img alt="@SelenaSmall" src="//github.com/SelenaSmall.png" style="display: inline; width: 88px;" height="88" />
<img alt="@saramic" src="//github.com/saramic.png" style="display: inline; width: 88px;" height="88" /></p>

<p>Commit <a href="https://github.com/failure-driven/railscamp-search-term/commit/7af2112fc10a2f93dfc182de0adb5958c0029d45">7af2112</a></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Author: Matt Patterson &lt;mattpatterson94@users.noreply.github.com&gt;
Date:   Sat Nov <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">15</span>:22:19 <span style="color:#ae81ff">2018</span> +1100

Add rspec to gemfile and initialize

Co-authored-by: Selena Small &lt;SelenaSmall@users.noreply.github.com&gt;
Co-authored-by: Michael Milewski &lt;saramic@users.noreply.github.com&gt;</code></pre></div>

<p>Commit <a href="https://github.com/failure-driven/railscamp-search-term/commit/05c8c9b9adafd36831e6399ac1a1694cd7fbb8d0">05c8c9b</a></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Author: Matt Patterson &lt;mattpatterson94@users.noreply.github.com&gt;
Date:   Sat Nov <span style="color:#ae81ff">24</span> <span style="color:#ae81ff">16</span>:07:38 <span style="color:#ae81ff">2018</span> +1100

Configure tests to use foreman and capybara.

Co-authored-by: Michael Milewski &lt;saramic@gmail.com&gt;
Co-authored-by: Selena Small &lt;selenawiththetattoo@gmail.com&gt;</code></pre></div>

<p>After Matt helped us with that first test we asked him some questions on the
experience, starting off with how he found it.</p>

<h3 id="5-minutes-with-matt">5 minutes with Matt</h3>

<p><strong>Q:</strong> How did you find the pairing/testing experience?</p>

<p><strong>A:</strong> It was nice. Are you teachers?</p>

<p><strong>Selena:</strong> No Matt, we have no credibility as teachers [laugh] but we&rsquo;re trying to get some!</p>

<p><strong>Q:</strong> Do you write code outside of work? Are you working on interesting side projects?</p>

<p><strong>A:</strong> Yeah at home I play around with all sorts of tech. I even have a small
torrent server setup for my mum up in Queensland. It runs on port 9091.  Locally
I run a hydroponics setup with my RasPi, for my um .. &lsquo;herbs.&rsquo; Oh shit did I
just say that? off the record (laughter&hellip;)</p>

<p><strong>note:</strong> <em>that last comment was off the record guys&hellip;</em></p>

<p>Matt explored the ability to see if he could actually run the RSpec tests from
our Procfile. This would be a Procfile task that could startup the server and
run the RSpec tests. Cool idea. Unfortunately, in our short time together we
did not manage to make it possible but we certainly gave it a try!</p>

<p>The idea was to have a Foreman Procfile which would fire up the test server
and run the tests if they are successfull. In the end we went for the more
traditional approach - running our server setup with Foreman in one shell and
running the tests in a second shell with another command.</p>

<p>Not only did we teach him a few things, Matt also taught us a new shortcut for VI!</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">d/&lt;match&gt;</code></pre></div>

<p>This allows you to delete from the cursor to whatever <match> you specify</p>

<h3 id="lolcommits">Lolcommits</h3>

<p>Sometimes you need a couple of lolcommits to get one that actually works&hellip;</p>

<div style="display: flex;">
  <img alt="test 1" src="http://s3-ap-southeast-2.amazonaws.com/failure-driven-blog/railscamp-24-woodfield-hobart/commit_04_matt_patterson__test_1_f9daaa2ecac.gif">
  <img alt="test 2" src="http://s3-ap-southeast-2.amazonaws.com/failure-driven-blog/railscamp-24-woodfield-hobart/commit_04_matt_patterson__test_2_ed182d1c315.gif">
</div>

<p>3rd time the charm</p>

<p><img src="http://s3-ap-southeast-2.amazonaws.com/failure-driven-blog/railscamp-24-woodfield-hobart/commit_04_matt_patterson_22212c2fea9.gif" alt="commit 4 with Matt Patterson" /></p>

<p>And a second commit for fun</p>

<p><img src="http://s3-ap-southeast-2.amazonaws.com/failure-driven-blog/railscamp-24-woodfield-hobart/commit_05_matt_patterson_8e85e82e854.gif" alt="commit 5 with Matt Patterson" /></p>

<h3 id="next-time">Next time</h3>

<p>Now that we have everything setup and a failing test, clearly next post of
<a href="https://failure-driven.com/post/railscamp-pairing/">&ldquo;The Rails Camp Project&rdquo;</a> will finally
write some code? No? well we hope you join us next time to find out!</p>

<h3 id="resources">Resources</h3>

<ul>
<li>more on <a href="https://martinfowler.com/bliki/GivenWhenThen.html">Given/When/Then</a></li>
<li><a href="http://www.zingtrain.com/content/levels-learning">levels of learning</a></li>
</ul>

<h4 id="authored-by">Authored By:</h4>

<p>Selena Small &amp; Michael Milewski</p>
<ul class="pa0">
  
</ul>
<div class="mt6">
        
      </div>
    </main>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

</main>
<footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://failure-driven.com/" >
    &copy; 2019 Selena Small &amp; Michael Milewski
  </a>
    <div>



  <a href="https://twitter.com/selenasmall88" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>


  <a href="https://twitter.com/saramic" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>






</div>
  </div>
</footer>



  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/custom.css"/>


</body>
</html>
